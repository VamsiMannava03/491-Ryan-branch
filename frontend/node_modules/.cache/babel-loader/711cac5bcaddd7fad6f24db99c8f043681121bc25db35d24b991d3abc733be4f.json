{"ast":null,"code":"import React,{useState,useEffect}from'react';import{io}from'socket.io-client';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io('http://localhost:5000',{transports:['websocket']});function Chat(_ref){let{room,username}=_ref;const[message,setMessage]=useState('');const[messages,setMessages]=useState([]);const[userList,setUserList]=useState([]);useEffect(()=>{if(!room||!username)return;socket.emit('joinRoom',{username,room});socket.on('message',data=>{setMessages(prev=>[...prev,data]);});socket.on('userList',users=>{setUserList(users);});return()=>{socket.off('message');socket.off('userList');};},[room,username]);const sendMessage=e=>{e.preventDefault();if(message.trim()){socket.emit('sendMessage',{username,text:message,room});setMessage('');}};return/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',height:'100%',backgroundColor:'#f5f5f5',borderLeft:'1px solid #ccc',display:'flex',flexDirection:'column',padding:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83E\\uDDD1 Players in session:\"})}),/*#__PURE__*/_jsx(\"ul\",{children:userList.map((u,i)=>/*#__PURE__*/_jsx(\"li\",{children:u},i))}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,overflowY:'auto',marginBottom:'10px'},children:messages.map((msg,i)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:msg.username}),\": \",msg.text]},i))}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:sendMessage,style:{display:'flex'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:message,onChange:e=>setMessage(e.target.value),style:{flex:1,marginRight:'5px',padding:'5px'},placeholder:\"Type a message...\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Send\"})]})]});}export default Chat;","map":{"version":3,"names":["React","useState","useEffect","io","jsx","_jsx","jsxs","_jsxs","socket","transports","Chat","_ref","room","username","message","setMessage","messages","setMessages","userList","setUserList","emit","on","data","prev","users","off","sendMessage","e","preventDefault","trim","text","style","width","height","backgroundColor","borderLeft","display","flexDirection","padding","children","map","u","i","flex","overflowY","marginBottom","msg","onSubmit","type","value","onChange","target","marginRight","placeholder"],"sources":["/Users/vamsimannava/Desktop/Senior Year/491/session2/491-Ryan-branch/frontend/src/Chat.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { io } from 'socket.io-client';\n\nconst socket = io('http://localhost:5000', { transports: ['websocket'] });\n\nfunction Chat({ room, username }) {\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [userList, setUserList] = useState([]);\n\n  useEffect(() => {\n    if (!room || !username) return;\n\n    socket.emit('joinRoom', { username, room });\n\n    socket.on('message', (data) => {\n      setMessages((prev) => [...prev, data]);\n    });\n\n    socket.on('userList', (users) => {\n      setUserList(users);\n    });\n\n    return () => {\n      socket.off('message');\n      socket.off('userList');\n    };\n  }, [room, username]);\n\n  const sendMessage = (e) => {\n    e.preventDefault();\n    if (message.trim()) {\n      socket.emit('sendMessage', { username, text: message, room });\n      setMessage('');\n    }\n  };\n\n  return (\n    <div style={{ width: '100%', height: '100%', backgroundColor: '#f5f5f5', borderLeft: '1px solid #ccc', display: 'flex', flexDirection: 'column', padding: '10px' }}>\n      <div><strong>ðŸ§‘ Players in session:</strong></div>\n      <ul>\n        {userList.map((u, i) => <li key={i}>{u}</li>)}\n      </ul>\n      <hr />\n      <div style={{ flex: 1, overflowY: 'auto', marginBottom: '10px' }}>\n        {messages.map((msg, i) => (\n          <div key={i}><strong>{msg.username}</strong>: {msg.text}</div>\n        ))}\n      </div>\n      <form onSubmit={sendMessage} style={{ display: 'flex' }}>\n        <input\n          type=\"text\"\n          value={message}\n          onChange={(e) => setMessage(e.target.value)}\n          style={{ flex: 1, marginRight: '5px', padding: '5px' }}\n          placeholder=\"Type a message...\"\n        />\n        <button type=\"submit\">Send</button>\n      </form>\n    </div>\n  );\n}\n\nexport default Chat;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}