{"ast":null,"code":"import React,{useEffect}from'react';import{useDrag}from'react-dnd';import{getEmptyImage}from'react-dnd-html5-backend';import{jsx as _jsx}from\"react/jsx-runtime\";const Icon=_ref=>{var _icon$left,_icon$top;let{icon}=_ref;const initialX=(_icon$left=icon.left)!==null&&_icon$left!==void 0?_icon$left:500;const initialY=(_icon$top=icon.top)!==null&&_icon$top!==void 0?_icon$top:400;const isPlaced=typeof icon.left==='number'&&typeof icon.top==='number';const[{isDragging},drag,preview]=useDrag(()=>({type:'ICON',item:{id:icon.id,src:icon.src,alt:icon.alt,left:initialX,top:initialY},collect:monitor=>({isDragging:monitor.isDragging()})}),[icon]);useEffect(()=>{preview(getEmptyImage(),{captureDraggingState:true});},[preview]);const baseStyle={width:isPlaced?'40px':'30px',height:isPlaced?'40px':'30px',opacity:isDragging?0.5:1,cursor:isPlaced?'move':'grab',borderRadius:'4px',pointerEvents:'auto',zIndex:2};const positionedStyle=isPlaced?{position:'absolute',left:icon.left,top:icon.top,...baseStyle}:baseStyle;return/*#__PURE__*/_jsx(\"img\",{ref:drag,src:icon.src,alt:icon.alt,style:positionedStyle,draggable:false});};export default Icon;","map":{"version":3,"names":["React","useEffect","useDrag","getEmptyImage","jsx","_jsx","Icon","_ref","_icon$left","_icon$top","icon","initialX","left","initialY","top","isPlaced","isDragging","drag","preview","type","item","id","src","alt","collect","monitor","captureDraggingState","baseStyle","width","height","opacity","cursor","borderRadius","pointerEvents","zIndex","positionedStyle","position","ref","style","draggable"],"sources":["H:/H DOWNLOADS/dung/491-Ryan-branch/frontend/src/Icon.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDrag } from 'react-dnd';\r\nimport { getEmptyImage } from 'react-dnd-html5-backend';\r\n\r\nconst Icon = ({ icon }) => {\r\n  const initialX = icon.left ?? 500;\r\n  const initialY = icon.top ?? 400;\r\n  const isPlaced = typeof icon.left === 'number' && typeof icon.top === 'number';\r\n\r\n  const [{ isDragging }, drag, preview] = useDrag(() => ({\r\n    type: 'ICON',\r\n    item: {\r\n      id: icon.id,\r\n      src: icon.src,\r\n      alt: icon.alt,\r\n      left: initialX,\r\n      top: initialY\r\n    },\r\n    collect: (monitor) => ({\r\n      isDragging: monitor.isDragging(),\r\n    }),\r\n  }), [icon]);\r\n\r\n  useEffect(() => {\r\n    preview(getEmptyImage(), { captureDraggingState: true });\r\n  }, [preview]);\r\n\r\n  const baseStyle = {\r\n    width: isPlaced ? '40px' : '30px',\r\n    height: isPlaced ? '40px' : '30px',\r\n    opacity: isDragging ? 0.5 : 1,\r\n    cursor: isPlaced ? 'move' : 'grab',\r\n    borderRadius: '4px',\r\n    pointerEvents: 'auto',\r\n    zIndex: 2,\r\n  };\r\n\r\n  const positionedStyle = isPlaced\r\n    ? {\r\n        position: 'absolute',\r\n        left: icon.left,\r\n        top: icon.top,\r\n        ...baseStyle\r\n      }\r\n    : baseStyle;\r\n\r\n  return (\r\n    <img\r\n      ref={drag}\r\n      src={icon.src}\r\n      alt={icon.alt}\r\n      style={positionedStyle}\r\n      draggable={false}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Icon;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,OAAO,KAAQ,WAAW,CACnC,OAASC,aAAa,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAExD,KAAM,CAAAC,IAAI,CAAGC,IAAA,EAAc,KAAAC,UAAA,CAAAC,SAAA,IAAb,CAAEC,IAAK,CAAC,CAAAH,IAAA,CACpB,KAAM,CAAAI,QAAQ,EAAAH,UAAA,CAAGE,IAAI,CAACE,IAAI,UAAAJ,UAAA,UAAAA,UAAA,CAAI,GAAG,CACjC,KAAM,CAAAK,QAAQ,EAAAJ,SAAA,CAAGC,IAAI,CAACI,GAAG,UAAAL,SAAA,UAAAA,SAAA,CAAI,GAAG,CAChC,KAAM,CAAAM,QAAQ,CAAG,MAAO,CAAAL,IAAI,CAACE,IAAI,GAAK,QAAQ,EAAI,MAAO,CAAAF,IAAI,CAACI,GAAG,GAAK,QAAQ,CAE9E,KAAM,CAAC,CAAEE,UAAW,CAAC,CAAEC,IAAI,CAAEC,OAAO,CAAC,CAAGhB,OAAO,CAAC,KAAO,CACrDiB,IAAI,CAAE,MAAM,CACZC,IAAI,CAAE,CACJC,EAAE,CAAEX,IAAI,CAACW,EAAE,CACXC,GAAG,CAAEZ,IAAI,CAACY,GAAG,CACbC,GAAG,CAAEb,IAAI,CAACa,GAAG,CACbX,IAAI,CAAED,QAAQ,CACdG,GAAG,CAAED,QACP,CAAC,CACDW,OAAO,CAAGC,OAAO,GAAM,CACrBT,UAAU,CAAES,OAAO,CAACT,UAAU,CAAC,CACjC,CAAC,CACH,CAAC,CAAC,CAAE,CAACN,IAAI,CAAC,CAAC,CAEXT,SAAS,CAAC,IAAM,CACdiB,OAAO,CAACf,aAAa,CAAC,CAAC,CAAE,CAAEuB,oBAAoB,CAAE,IAAK,CAAC,CAAC,CAC1D,CAAC,CAAE,CAACR,OAAO,CAAC,CAAC,CAEb,KAAM,CAAAS,SAAS,CAAG,CAChBC,KAAK,CAAEb,QAAQ,CAAG,MAAM,CAAG,MAAM,CACjCc,MAAM,CAAEd,QAAQ,CAAG,MAAM,CAAG,MAAM,CAClCe,OAAO,CAAEd,UAAU,CAAG,GAAG,CAAG,CAAC,CAC7Be,MAAM,CAAEhB,QAAQ,CAAG,MAAM,CAAG,MAAM,CAClCiB,YAAY,CAAE,KAAK,CACnBC,aAAa,CAAE,MAAM,CACrBC,MAAM,CAAE,CACV,CAAC,CAED,KAAM,CAAAC,eAAe,CAAGpB,QAAQ,CAC5B,CACEqB,QAAQ,CAAE,UAAU,CACpBxB,IAAI,CAAEF,IAAI,CAACE,IAAI,CACfE,GAAG,CAAEJ,IAAI,CAACI,GAAG,CACb,GAAGa,SACL,CAAC,CACDA,SAAS,CAEb,mBACEtB,IAAA,QACEgC,GAAG,CAAEpB,IAAK,CACVK,GAAG,CAAEZ,IAAI,CAACY,GAAI,CACdC,GAAG,CAAEb,IAAI,CAACa,GAAI,CACde,KAAK,CAAEH,eAAgB,CACvBI,SAAS,CAAE,KAAM,CAClB,CAAC,CAEN,CAAC,CAED,cAAe,CAAAjC,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}